<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE portal-module PUBLIC 
	"-//DDTH.ORG//DTD Portal Module//EN"
	"portal-module.dtd">
<portal-module name="txbb" brief-description="TXBB v3.0">
	<!-- Module information -->
	<module-info>
		<description>TXBB v3.0.</description>
		<version number="3.0.0" build="209" date="200910131213" />
		<portal-version min="1.0" max="1.0" />
		<vendor name="DDTH" url="http://www.ddth.org" />
	</module-info>

	<module-properties>
		<property name="txbb.seoUnicode">org.ddth.txbb.util.TCVN6909SeoUnicode</property>
		<property name="txbb.txCodeParser">org.ddth.txbb.util.XhtmlTXCodeParser</property>
	</module-properties>

	<portlets>
		<portlet name="txbb_admin_mainmenu" description="TXBB's Administrative Main Menu"
			class="org.ddth.txbb.portlets.admin.MainMenuPortlet" />
		<portlet name="txbb_mainmenu" description="TXBB's non-Administrative Main Menu"
			class="org.ddth.txbb.portlets.MainMenuPortlet" />
		<portlet name="txbb_personalcorner" description="TXBB's Personal Corner Menu"
			class="org.ddth.txbb.portlets.PersonalCornerPortlet" />
	</portlets>

	<languages registry="/languages/registry.xml"></languages>

	<templates registry="/templates/registry.xml"></templates>

	<action-mapping>
		<module name="txbb">
			<form name="frmBoxCreate">
				<form-property name="parentId" type="java.lang.Integer" />
				<form-property name="title" type="java.lang.String"
					required="true" max-length="255" />
				<form-property name="outerDescription" type="java.lang.String"
					required="false" />
				<form-property name="innerDescription" type="java.lang.String"
					required="false" />
			</form>

			<form name="frmBoxEdit">
				<form-property name="parentId" type="java.lang.Integer" />
				<form-property name="title" type="java.lang.String"
					required="true" max-length="255" />
				<form-property name="outerDescription" type="java.lang.String"
					required="false" />
				<form-property name="innerDescription" type="java.lang.String"
					required="false" />
			</form>

			<form name="frmBoxDelete">
			</form>

			<form name="frmTopicCreate">
				<form-property name="topicType" type="java.lang.String"
					required="true" allowed-values="question,article,information" />
			</form>

			<form name="frmTopicEdit">
				<form-property name="topicType" type="java.lang.String"
					required="true" allowed-values="question,article,information" />
				<form-property name="topicTitle" type="java.lang.String"
					max-length="255" />
				<form-property name="topicContent" type="java.lang.String" />
			</form>

			<form name="frmTopicDelete">
			</form>

			<form name="frmTopicPublish">
				<form-property name="publishedBoxes" type="java.lang.Integer[]"
					required="false" />
			</form>

			<form name="frmTopicUnpublish">
			</form>

			<form name="frmTopicLock">
			</form>

			<form name="frmTopicUnlock">
			</form>

			<default-handler class="org.ddth.txbb.panda.DefaultHandler" />

			<default-view
				class="org.ddth.panda.portal.module.core.panda.DefaultViewRenderer" />

			<handler action="index" class="org.ddth.txbb.panda.IndexHandler" />

			<handler action="box" class="org.ddth.txbb.panda.BoxViewHandler" />

			<handler action="topic" class="org.ddth.txbb.panda.TopicViewHandler" />

			<handler action="boxTopic" class="org.ddth.txbb.panda.TopicViewViaBoxHandler" />

			<handler action="pc" class="org.ddth.txbb.panda.pc.IndexHandler" />
			<handler action="pcIndex" class="org.ddth.txbb.panda.pc.IndexHandler" />
			<handler action="pcCreateTopic" class="org.ddth.txbb.panda.pc.TopicCreateHandler"
				form="frmTopicCreate" />
			<handler action="pcEditTopic" class="org.ddth.txbb.panda.pc.TopicEditHandler"
				form="frmTopicEdit" />
			<handler action="pcViewDraftTopics"
				class="org.ddth.txbb.panda.pc.TopicViewDraftListHandler" />
			<handler action="pcViewPublishedTopics"
				class="org.ddth.txbb.panda.pc.TopicViewPublishedListHandler" />
			<handler action="pcDeleteTopic" class="org.ddth.txbb.panda.pc.TopicDeleteHandler"
				form="frmTopicDelete" />
			<handler action="pcPublishTopic" class="org.ddth.txbb.panda.pc.TopicPublishHandler"
				form="frmTopicPublish" />
			<handler action="pcUnpublishTopic"
				class="org.ddth.txbb.panda.pc.TopicUnpublishHandler" form="frmTopicUnpublish" />
			<handler action="pcLockTopic" class="org.ddth.txbb.panda.pc.TopicLockHandler"
				form="frmTopicLock" />
			<handler action="pcUnlockTopic" class="org.ddth.txbb.panda.pc.TopicUnlockHandler"
				form="frmTopicUnlock" />

			<handler action="admin" class="org.ddth.txbb.panda.admin.AdminIndexHandler" />
			<handler action="adminListBoxes"
				class="org.ddth.txbb.panda.admin.AdminBoxListHandler" />
			<handler action="adminCreateBox"
				class="org.ddth.txbb.panda.admin.AdminBoxCreateHandler" form="frmBoxCreate" />
			<handler action="adminDeleteBox"
				class="org.ddth.txbb.panda.admin.AdminBoxDeleteHandler" form="frmBoxDelete" />
			<handler action="adminEditBox"
				class="org.ddth.txbb.panda.admin.AdminBoxEditHandler" form="frmBoxEdit" />
			<handler action="adminMoveUpBox"
				class="org.ddth.txbb.panda.admin.AdminBoxMoveUpHandler" />
			<handler action="adminMoveDownBox"
				class="org.ddth.txbb.panda.admin.AdminBoxMoveDownHandler" />
		</module>
	</action-mapping>

	<pages>
		<page action="_">
			<!--
			<layout location="TOP" portlet="portal_topmenubar" position="-1" />
			-->
			<layout location="LEFT" portlet="txbb_mainmenu" position="-2" />
			<layout location="LEFT" portlet="txbb_personalcorner"
				position="-1" />
			<layout location="LEFT" portlet="portal_loginreminder"
				position="-1" />			

			<layout location="BOTTOM" portlet="portal_bottommenubar"
				position="-2" />
			<layout location="BOTTOM" portlet="portal_systeminfo"
				position="-1" />
		</page>

		<page action="admin">
			<layout location="LEFT" portlet="txbb_admin_mainmenu"
				position="-2" />
		</page>
		<page action="adminListBoxes">
			<layout location="LEFT" portlet="txbb_admin_mainmenu"
				position="-2" />
		</page>
		<page action="adminCreateBox">
			<layout location="LEFT" portlet="txbb_admin_mainmenu"
				position="-2" />
		</page>
		<page action="adminListBoxes">
			<layout location="LEFT" portlet="txbb_admin_mainmenu"
				position="-2" />
		</page>
		<page action="adminDeleteBox">
			<layout location="LEFT" portlet="txbb_admin_mainmenu"
				position="-2" />
		</page>
		<page action="adminEditBox">
			<layout location="LEFT" portlet="txbb_admin_mainmenu"
				position="-2" />
		</page>
	</pages>
</portal-module>